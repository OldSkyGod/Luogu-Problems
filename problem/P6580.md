# [Ynoi2019] 美好的每一天~ 不连续的存在

## 题目背景

3.0321

虽然外面能在空间上表现一个违反物理规律的事态

但是外面不能在空间上表现一个违反几何规律的事态。

Ludwig Josef Johann Wittgenstein【逻辑哲学论】

![](https://cdn.luogu.com.cn/upload/pic/53829.png)

……

透明的…

透明的白色？

…不…不对

这不是什么透明的白色…

是白色的话就不是透明……那么…这是半透明的…

但是…这也…并不是半透明…

如果…要找个唯一能表达的词语的话…

那就是…

透明的白色…

这是…那个啥…这是

“光”

【光】

光？

这是

单纯的光

是的……就是这样……

这是——

——光

蝉的叫声……

这里是…屋顶？

环顾四周…那是司空见惯的风景…是A栋的屋顶

为什么…为什么会在这里…

间宫皆守为了保护羽咲跳了下去…然后…，

然后…，

然后发生了什么？

今天是几号？那个，现在是…

我确认了下手表，日期是2012年7月20日。

从那时起…整整一天…

到底发生了什么…

梦……据说即使是明晰梦也少有能感觉到疼痛的……

捏脸蛋能感觉到疼的话，就说明这里的景色是现实吗……
 
音无彩名…同学

“好久不见”

“怎么了？”

因为啊…离我们最后一次见面不是才只过了一天吗…

“…这样啊”

…我说

“怎么？”

间宫皆守怎么样了？

“为什么…要问那种事？”

那，那当然是因为很在意啊…而且说到底我也只是他创造出来的人格罢了…

“那么他不就是还活着吗？”

你说…什么

“假设1…如果你…是间宫皆守创造出来的人格之一的话，你存在的这件事本身，就是间宫皆守的肉体还存在着的理由了…”

但，但是…这样很奇怪对吧

“哪里奇怪？”

因为啊…他都受了那么重的伤了啊。才过一天怎么可能能跑到这种地方来

“这样啊…”

我即使出现，也是应该是在医院的床上的

“那么假设2…你的存在不是因为解离性同一障碍而引起的…”

“你的存在正是过去实际存在过的人物，水上由岐的灵魂。如果这个灵魂是寄宿
在间宫皆守身上的…你存在于这里的理由换言之即…”

“意味着间宫皆守的死…”

怎，怎么会…

“还有假设3…如果这里只是你做的梦的话…”

“你眼前的我…也只是梦的产物…这个假设具有充分的说服力…”

“那么…水上由岐小姐喜欢将其中哪一种作为现状说明呢？”

喜欢哪种…我觉得更不是这种问题吧…

“假设4…你只是我所看见的幻觉…是我创造出来的幻影…也就是说你并不存在”

啊哈哈哈…那么，现在正在思考的我又成了什么呢？

不是有正在思考的我存在吗

“只不过是将我的大脑活动…的其中一部分，作为别的人格在认知而已…”

“也就是说“你正在思考”这件事，并不能证明你存在…”

“根本不能否定现在存在与此的水上由岐…是我创造出来的另一种人格的可能
性”

“这件事，在一具肉体里创造出三个人格的你应该是最能理解的…”

“自己正在思考这件事…并不能成为自己存在的证明…”

我说啊…我想知道的是

“什么？”

所以说，是在那之后怎么样了？

“你想要知道的话就确认一下吧…打开屋顶的门，跑到外面的世界去就可以了…
仅仅只需要这样而已”

![](https://cdn.luogu.com.cn/upload/pic/53830.png) 

…

正如音无彩名所言。

要是真的那么在意的话…我只要从这里离开就好了。

从这片屋顶上跑开，去看看外面的世界就行了。

这样做的话，应该就能如我所愿地…得知一切的结果了。

但是…

只要出去就行…吗

“嗯”

虽然这也是一种方法…但能让我问个问题吗？

“问什么？”

今天是几号？

“2012年7月20日…”

也就是说…从明天开始就是暑假了？

“对…从明天开始就是暑假…”

昨天…应该是发生了集体自杀。

根本不是还能安心地照常放暑假的那种小事。

尽管如此…从屋顶看到的风景却…

是一如既往的日常…

走在走廊上的学生。

在教室里谈话的学生。

喊学生来找他的老师。

这是毫无变化的日常。

实在是看不出像是刚发生了那种事件…

“怎么了吗”

…彩名同学的假设…就这么多了吗？

“假设…你还想要吗？”

“说明的话你想要听多少都行…对这个世界的注释…人们想要多少就可以增加到
多少”

“如果那是你的愿望的话…无论多少…”

卓司君说说的“终之空”是什么？

那个啊…是不管是琴美的预言还是白莲华协会的预言里都不存在的词语哦…

“终之空…就是字面上的”终结的天空””

那个名字…是谁在什么时候起的呢…

“记忆…”

记忆？

“幽灵房间…终之空…”

唔

“呵呵…你还记得”

不是记得…那应该是我记错了吧…

“是这样吗？”

因，因为，那个…很奇怪对吧？

“哪里奇怪？”

因为啊…那个…是我被卷入高岛同学的自杀时做的梦吧？

所以不是很奇怪吗

“有什么奇怪的吗？”

因为啊…如果那是，我已经被卷入高岛的自杀的话…时间轴就完全乱套了啊…因
为在那之后我又一次体验了高岛同学的自杀

“假设5…直到现在，你还没有从那个梦中醒来…”

那个梦？

“被卷入高岛柘榴自杀的水上由岐…现在这个瞬间正是她所做的梦的延续”

梦，梦？你说现在？不…不过怎么想，说这是梦也太…

“是吗…那么假设6…”幽灵房间…终之空”的记忆是错误的记忆…”

“只是反复进行人格替换缩引起的记忆的混乱让你做了这样的梦…”

“跳楼的高岛柘榴并没有撞上水上由岐，只是单纯的记忆混乱”

那，那么，为什么卓司君会使用只在我梦中出现过的“终之空”这个词啊！

“因为两者共享一个大脑，这样没有什么不可思议的…”

那，那样的话…

“你很在意最后看到的风景…那片天空的存在吗？”

咕

最后看见的…那片天空…

间宫卓司君在跳楼的一刹那看到的那种风景。

我不知为何觉得那种风景似曾相识…

“不断重复的世界…从某个地点开始…”

唔

“可以确认一下吗？”

什，什么？

“称呼你，水上由岐同学…可以吗？”

事，事到如今怎么这样问…你不是一直都这么叫我的吗…

“由岐同学…水上由岐同学是谁？”

哎？

“由岐同学…是过去实际存在的人物，为了救间宫羽咲而死亡…在那之后，又作
为间宫皆守所产生的人格而存在…”

“那样的话…现在存在与此的由岐同学是谁？是已经死去的由岐同学？还是作为
间宫皆守创造出来的人格的由岐同学？”

就，就算你这么问…我也不知道…

“正因为你不知道…才会问我…”

“最后的注释…”

“向由岐同学提问…”

“这个世界上存在着多少个由岐同学呢？”

哎？

“一个，是在泽衣村出生…并在泽衣村死去的水上由岐…另一个是作为间宫皆守
创造出来的人格的水上由岐…以及现在正在与我对话的存在与此的水上由岐”

“那么请听题…请问你是第几位水上由岐小姐呢？”

那，那种事我怎么知道…而且我就是我，才没有那么多人

“在泽衣村死去的由岐同学，在皆守体内的由岐同学，还有现在在此的由岐同学
是一样的…”

“那么，其他还有可能存在的由岐小姐呢？”

其他还有可能存在的我？

“对…其他人格所产生的由岐同学…那也是由岐同学吗？”

那种事我怎么知道…再说了要是有那么多我怎么受得了

“但是事实上你并不是一个人…”

“被卷入高岛柘榴的自杀的由岐同学，在泽衣村死去的由岐同学，皆守君制造出
的由岐同学…以及现在存在于此的由岐同学…”

那，那种事情我才不管…我就是我…

“在“幽灵房间…终之空”中看到的景色…那是什么时候的景色？”

景色？

唔

这时不知为何…我想起了那个游乐设备里的薯片袋子上的保质期…

想起了挂在那的挂历上的日期…

虽然完全不清楚那到底是什么…

不知为何…想起了那个时候的事情。

虽然不知道那句话到底有没有意义。

只是，想起了那个日期…

“最后附加上的注释”

“假设7…所有的存在都是由一个灵魂所产生的…”

 ![](https://cdn.luogu.com.cn/upload/pic/53831.png) 

天空，到底延伸到哪里呢...

大概，

是和全世界的天空连在一起的吧... 

那样的话...这天空和——

——终之空

是没有连在一起的

要问为什么的话，

那是因为，

那是不可以存在的东西——

但是——

这又是真的吗？ 

“————”

某处传来呼唤我的声音。

呼唤我的同班同学的声音……

所以我回过头去……

![](https://cdn.luogu.com.cn/upload/pic/53829.png)

## 题目描述

音无彩名给你一个数组 $A$，以及一棵 $n$ 个节点的树，每个点有一个颜色，颜色为 $1$ 到 $x$ 的整数。

有 $m$ 次查询，每次查询树上只保留 $[l,r]$ 内的所有节点，设一个极大连通块中出现奇数次数的颜色个数为 $t$，则其对答案的贡献为 $A_t$ ，即答案是所有连通块贡献的和，询问间互相独立。

## 输入格式

第一行三个用空格隔开的数 $n,m,x$。

第二行 $n$ 个数表示每个点的颜色。

之后 $n-1$ 行每行两个用空格隔开的数 $x,y$ 表示一条边。

之后一行 $x+1$ 个数表示 $A_0$ 到 $A_x$ 。

之后 $m$ 行，每行两个用空格隔开的数 $l,r$ 表示一次询问。

## 输出格式

输出 $m$ 行，每行一个数表示这次询问的答案。

## 样例 #1

### 样例输入 #1
```
6 3 5
1 1 4 5 1 4
1 2
2 3
3 4
4 5
5 6
1 1 4 5 1 4
1 1
4 5
1 4```

### 样例输出 #1

```
1
4
4```

## 提示

Idea：nzhtl1477，Solution：nzhtl1477，Code：nzhtl1477，Data：nzhtl1477

注意：本题采用**捆绑测试**，只有当你通过一个 subtask 中的所有测试点后，你才能拿到这个 subtask 的分数。

对于其中 $1\%$ 的数据，为样例 1。

对于另外 $9\%$ 的数据，$n,m\leq 200$。

对于另外 $19\%$ 的数据，$n,m\leq 2000$。

对于另外 $19\%$ 的数据，$x\leq 10$。

对于 $100\%$ 的数据，$1\leq n,m\leq 10^5$，$1\leq x,A_i \leq 10^4$。

